<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera Calibration Toolkit</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .calibration-selector {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            padding: 2rem;
        }
        
        .calibration-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1000px;
            margin: 2rem 0;
        }
        
        .calibration-card {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .calibration-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            border-color: #007bff;
        }
        
        .calibration-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        .calibration-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        .calibration-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }
        
        .select-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .select-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
        }
        
        .header-title {
            text-align: center;
            color: #333;
            margin-bottom: 1rem;
        }
        
        .header-subtitle {
            text-align: center;
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>
    <div class="calibration-selector">
        <h1 class="header-title">Camera Calibration Toolkit</h1>
        <p class="header-subtitle">Select the type of calibration you want to perform</p>
        
        <div class="calibration-cards">
            <!-- Intrinsic Calibration Card -->
            <div class="calibration-card" onclick="selectCalibration('intrinsic')">
                <div class="calibration-icon">ðŸ“·</div>
                <h3>Camera Intrinsic Calibration</h3>
                <p>Calibrate camera intrinsic parameters including focal length, principal point, and distortion coefficients using chessboard images.</p>
                <ul style="text-align: left; color: #666; margin: 1rem 0;">
                    <li>Single camera calibration</li>
                    <li>Distortion correction</li>
                    <li>Fast and straightforward</li>
                    <li>Foundation for other calibrations</li>
                </ul>
                <button class="select-btn">Select Intrinsic</button>
            </div>
            
            <!-- Eye-in-Hand Calibration Card -->
            <div class="calibration-card" onclick="selectCalibration('eye_in_hand')">
                <div class="calibration-icon">ðŸ¦¾</div>
                <h3>Eye-in-Hand Calibration</h3>
                <p>Calibrate robot-mounted cameras to determine the transformation between camera and robot end-effector coordinate frames.</p>
                <ul style="text-align: left; color: #666; margin: 1rem 0;">
                    <li>Robot vision systems</li>
                    <li>Advanced optimization</li>
                    <li>Includes intrinsic calibration</li>
                    <li>High-precision results</li>
                </ul>
                <button class="select-btn">Select Eye-in-Hand</button>
            </div>
        </div>
        
        <div style="margin-top: 2rem; text-align: center; color: #666;">
            <p>Need help choosing? <a href="#" onclick="showHelp()" style="color: #007bff;">View calibration guide</a></p>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="helpModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="background: white; margin: 5% auto; padding: 2rem; max-width: 600px; border-radius: 10px; position: relative;">
            <span onclick="closeHelp()" style="position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer;">&times;</span>
            <h2>Calibration Type Guide</h2>
            
            <h3>ðŸŽ¯ Choose Intrinsic Calibration if:</h3>
            <ul>
                <li>You need to calibrate a single camera</li>
                <li>You want to correct lens distortion</li>
                <li>You're preparing for other computer vision tasks</li>
                <li>You need camera parameters for 3D reconstruction</li>
            </ul>
            
            <h3>ðŸ¤– Choose Eye-in-Hand Calibration if:</h3>
            <ul>
                <li>Your camera is mounted on a robot arm</li>
                <li>You need the camera-to-robot transformation</li>
                <li>You're building vision-guided robotic systems</li>
                <li>You have robot pose data with images</li>
            </ul>
            
            <p><strong>Note:</strong> Eye-in-hand calibration automatically includes intrinsic calibration.</p>
        </div>
    </div>

    <script>
        function selectCalibration(type) {
            // Redirect to the specific calibration interface
            window.location.href = `/${type}`;
        }
        
        function showHelp() {
            document.getElementById('helpModal').style.display = 'block';
        }
        
        function closeHelp() {
            document.getElementById('helpModal').style.display = 'none';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('helpModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>
